<HTML>
<HEAD>
<Title>Polar Bubble Chart</Title>
<link type='text/css' rel='Stylesheet' href='maxchartapi.css'/>
</HEAD>
<body bgcolor="#FFFFFF" text="#000000" topmargin="0" leftmargin="0" rightmargin="0" marginwidth="0" marginheight="0">

<p class="heading0">ChartDirector Ver 3.0 (PHP Edition)</p>
<p class="heading1">Polar Bubble Chart</p>
<hr class="separator">
<div class="content">
<img src="images/polarbubble.png">
<br><br>
A polar bubble chart can be created as a polar line chart with circles as data symbols. The line width is set to 0, so only the symbols can be seen. The symbol sizes are then controlled using another data series. This will create the effects of a bubble chart.<br><br>
The detail steps are:<br><br>
<ul><li> Create a polar line layer using <a href="PolarChart.addLineLayer.htm">PolarChart.addLineLayer</a>.<br><br>
<li> Enable data symbols for the line using <a href="PolarLayer.setDataSymbol.htm">PolarLayer.setDataSymbol</a> (or <a href="PolarLayer.setDataSymbol2.htm">PolarLayer.setDataSymbol2</a> or <a href="PolarLayer.setDataSymbol3.htm">PolarLayer.setDataSymbol3</a>). Traditionally, circle symbols are used for bubble charts, but you may use any other shapes as bubbles.<br><br>
<li> Disable the line by setting its width to 0 using <a href="PolarLayer.setLineWidth.htm">PolarLayer.setLineWidth</a>.<br><br>
<li> Control the size of the symbols by a data series using <a href="PolarLayer.setSymbolScale.htm">PolarLayer.setSymbolScale</a>.</ul>
</div>
<p class="heading2">Source Code Listing</p>
<div class="content">
[File: phpdemo/polarbubble.php]<br>
<table width="98%" border="0" cellpadding="10"><tr><td bgcolor="#cccccc">
<xmp><?php
include("phpchartdir.php");

#The data for the chart
$data0 = array(6, 12.5, 18.2, 15);
$angles0 = array(45, 96, 169, 258);
$size0 = array(41, 105, 12, 20);

$data1 = array(18, 16, 11, 14);
$angles1 = array(30, 210, 240, 310);
$size1 = array(30, 45, 12, 90);

#Create a PolarChart object of size 460 x 460 pixels
$c = new PolarChart(460, 460);

#Add a title to the chart at the top left corner using 15pts Arial Bold Italic
#font
$c->addTitle2(TopLeft, "<*underline=2*>EM Field Strength", "arialbi.ttf", 15);

#Set center of plot area at (230, 240) with radius 180 pixels
$c->setPlotArea(230, 240, 180);

#Set the grid style to circular grid
$c->setGridStyle(false);

#Add a legend box at the top right corner of the chart using 9 pts Arial Bold
#font
$legendObj = $c->addLegend(459, 0, true, "arialbd.ttf", 9);
$legendObj->setAlignment(TopRight);

#Set angular axis as 0 - 360, either spoke every 30 units
$angularAxisObj = $c->angularAxis();
$angularAxisObj->setLinearScale(0, 360, 30);

#Set the radial axis label format
$radialAxisObj = $c->radialAxis();
$radialAxisObj->setLabelFormat("{value} km");

#Add a blue (0x9999ff) line layer to the chart using (data0, angle0)
$layer0 = $c->addLineLayer($data0, 0x9999ff, "Cold Spot");
$layer0->setAngles($angles0);

#Disable the line by setting its width to 0, so only the symbols are visible
$layer0->setLineWidth(0);

#Use a circular data point symbol
$layer0->setDataSymbol(CircleSymbol, 11);

#Modulate the symbol size by size0 to produce a bubble chart effect
$layer0->setSymbolScale($size0);

#Add a red (0xff9999) line layer to the chart using (data1, angle1)
$layer1 = $c->addLineLayer($data1, 0xff9999, "Hot Spot");
$layer1->setAngles($angles1);

#Disable the line by setting its width to 0, so only the symbols are visible
$layer1->setLineWidth(0);

#Use a circular data point symbol
$layer1->setDataSymbol(CircleSymbol, 11);

#Modulate the symbol size by size1 to produce a bubble chart effect
$layer1->setSymbolScale($size1);

#output the chart
header("Content-type: image/png");
print($c->makeChart2(PNG));
?></xmp>
</td></tr></table>
</div>
<br><hr class="separator"><div class="copyright">&copy; 2003 Advanced Software Engineering Limited. All rights reserved.</div>
</body>
</HTML>
