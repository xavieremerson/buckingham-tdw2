<HTML>
<HEAD>
<Title>Overlapping Bar Chart</Title>
<link type='text/css' rel='Stylesheet' href="maxchartapi.css" />
</HEAD>
<body bgcolor="#FFFFFF" text="#000000" topmargin="0" leftmargin="0" rightmargin="0" marginwidth="0" marginheight="0">

<p class="heading0">ChartDirector Ver 5.0 (PHP Edition)</p>
<p class="heading1">Overlapping Bar Chart</p>
<hr class="separator">
<div class="content">
<img src="images/overlapbar.png">
<br><br>
This example demonstrates a multi-bar chart in which the bars within a cluster overlaps.<br><br>
The overlapping effect is configured using <a href="BarLayer.setOverlapRatio.htm">BarLayer.setOverlapRatio</a>. This method allows you to specify overlapping ratio and order. In this example, the overlapping ratio is 0.5, while the default overlapping order is used. The default order is that the first data set will stay on top of the second data set, and so on.
</div>
<p class="heading1a">Source Code Listing</p>
<div class="content">
<b>[File: phpdemo/overlapbar.php]</b>
<table width="98%" border="0" cellpadding="10"><tr><td bgcolor="#cccccc"><pre>&lt;?php
require_once("../lib/phpchartdir.php");

# The data for the bar chart
$data0 = array(100, 125, 156, 147, 87, 124, 178, 109, 140, 106, 192, 122);
$data1 = array(122, 156, 179, 211, 198, 177, 160, 220, 190, 188, 220, 270);
$data2 = array(167, 190, 213, 267, 250, 320, 212, 199, 245, 267, 240, 310);
$labels = array("Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept",
    "Oct", "Nov", "Dec");

# Create a XYChart object of size 580 x 280 pixels
$c = new XYChart(580, 280);

# Add a title to the chart using 14 pts Arial Bold Italic font
$c-&gt;addTitle("Product Revenue For Last 3 Years", "arialbi.ttf", 14);

# Set the plot area at (50, 50) and of size 500 x 200. Use two alternative background
# colors (f8f8f8 and ffffff)
$c-&gt;setPlotArea(50, 50, 500, 200, 0xf8f8f8, 0xffffff);

# Add a legend box at (50, 25) using horizontal layout. Use 8pts Arial as font, with
# transparent background.
$legendObj = $c-&gt;addLegend(50, 25, false, "arial.ttf", 8);
$legendObj-&gt;setBackground(Transparent);

# Set the x axis labels
$c-&gt;xAxis-&gt;setLabels($labels);

# Draw the ticks between label positions (instead of at label positions)
$c-&gt;xAxis-&gt;setTickOffset(0.5);

# Add a multi-bar layer with 3 data sets
$layer = $c-&gt;addBarLayer2(Side);
$layer-&gt;addDataSet($data0, 0xff8080, "Year 2003");
$layer-&gt;addDataSet($data1, 0x80ff80, "Year 2004");
$layer-&gt;addDataSet($data2, 0x8080ff, "Year 2005");

# Set 50% overlap between bars
$layer-&gt;setOverlapRatio(0.5);

# Add a title to the y-axis
$c-&gt;yAxis-&gt;setTitle("Revenue (USD in millions)");

# Output the chart
header("Content-type: image/png");
print($c-&gt;makeChart2(PNG));
?&gt;</pre></tr></td></table>
</div>
<br><hr class="separator"><div class="copyright">&copy; 2008 Advanced Software Engineering Limited. All rights reserved.</div>
</body>
</HTML>
