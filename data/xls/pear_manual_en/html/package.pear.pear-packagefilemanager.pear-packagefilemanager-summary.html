<HTML
><HEAD
><TITLE
>Class Summary PEAR_PackageFileManager</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="PEAR Manual"
HREF="index.html"><LINK
REL="UP"
TITLE="PEAR_PackageFileManager"
HREF="package.pear.pear-packagefilemanager.html"><LINK
REL="PREVIOUS"
TITLE="PEAR_PackageFileManager"
HREF="package.pear.pear-packagefilemanager.html"><LINK
REL="NEXT"
TITLE="constructor PEAR_PackageFileManager::PEAR_PackageFileManager"
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.pear-packagefilemanager.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=ISO-8859-1"></HEAD
><BODY
CLASS="refentry"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PEAR Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="package.pear.pear-packagefilemanager.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.pear-packagefilemanager.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="package.pear.pear-packagefilemanager.pear-packagefilemanager-summary">Class Summary <B
CLASS="classname"
>PEAR_PackageFileManager</B
></H1
><DIV
CLASS="refnamediv"
><A
NAME="AEN91131"
></A
>Class Summary <B
CLASS="classname"
>PEAR_PackageFileManager</B
>&nbsp;--&nbsp;PEAR :: PackageFileManager updates the &#60;filelist&#62;&#60;/filelist&#62;
section  of a PEAR package.xml file to reflect the current files in 
preparation for a release.</DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN91135"
></A
><H2
>PEAR :: PackageFileManager updates the &#60;filelist&#62;&#60;/filelist&#62;
section  of a PEAR package.xml file to reflect the current files in 
preparation for a release.</H2
><P
>The PEAR_PackageFileManager class uses a plugin system to generate the  list of files in a package.  This allows both standard recursive  directory parsing (plugin type file) and more intelligent options  such as the CVS browser PEAR_PackageFileManager_Cvs, which  grabs all files in a local CVS checkout to create the list, ignoring  any other local files.</P
><P
>Other options include specifying roles for file extensions (all .php  files are role="php", for example), roles for directories (all directories  named "tests" are given role="tests" by default), and exceptions.  Exceptions are specific pathnames with * and ? wildcards that match  a default role, but should have another.  For example, perhaps  a debug.tpl template would normally be data, but should be included  in the docs role.  Along these lines, to exclude files entirely,  use the ignore option.</P
><P
>Required options for a release include version, baseinstalldir, state,  and packagedirectory (the full path to the local location of the  package to create a package.xml file for)</P
><P
>Example usage:  <TABLE
WIDTH="100%"
CELLSPACING="0"
CELLPADDING="0"
BORDER="0"
BGCOLOR="#EEEEEE"
><TR
><TD
><PRE
CLASS="php-highlighted"
>1      &#60;?php
2      require_once('PEAR/PackageFileManager.php');
3      $packagexml = new <A
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.pear-packagefilemanager.html"
>PEAR_PackageFileManager</A
>;
4      $e = $packagexml-&#62;<A
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.setoptions.html"
>setOptions</A
>(
5      array('baseinstalldir' =&#62; 'PhpDocumentor',
6       'version' =&#62; '1.2.1',
7       'packagedirectory' =&#62; 'C:/Web Pages/chiara/phpdoc2/',
8       'state' =&#62; 'stable',
9       'filelistgenerator' =&#62; 'cvs', // generate from cvs, use file for directory
10      'notes' =&#62; 'We\'ve implemented many new and exciting features',
11      'ignore' =&#62; array('TODO', 'tests/'), // ignore TODO, all files in tests/
12      'installexceptions' =&#62; array('phpdoc' =&#62; '/*'), // baseinstalldir ="/" for phpdoc
13      'dir_roles' =&#62; array('tutorials' =&#62; 'doc'),
14      'exceptions' =&#62; array('README' =&#62; 'doc', // README would be data, now is doc
15                            'PHPLICENSE.txt' =&#62; 'doc'))); // same for the license
16     if (PEAR::isError($e)) {
17         echo $e-&#62;getMessage();
18         die();
19     }
20     $e = $test-&#62;<A
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.addplatformexception.html"
>addPlatformException</A
>('pear-phpdoc.bat', 'windows');
21     if (PEAR::isError($e)) {
22         echo $e-&#62;getMessage();
23         exit;
24     }
25     $packagexml-&#62;<A
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.addrole.html"
>addRole</A
>('pkg', 'doc'); // add a new role mapping
26     if (PEAR::isError($e)) {
27         echo $e-&#62;getMessage();
28         exit;
29     }
30     // replace @PHP-BIN@ in this file with the path to php executable!  pretty neat
31     $e = $test-&#62;<A
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.addreplacement.html"
>addReplacement</A
>('pear-phpdoc', 'pear-config', '@PHP-BIN@', 'php_bin');
32     if (PEAR::isError($e)) {
33         echo $e-&#62;getMessage();
34         exit;
35     }
36     $e = $test-&#62;<A
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.addreplacement.html"
>addReplacement</A
>('pear-phpdoc.bat', 'pear-config', '@PHP-BIN@', 'php_bin');
37     if (PEAR::isError($e)) {
38         echo $e-&#62;getMessage();
39         exit;
40     }
41     // note use of <A
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.debugpackagefile.html"
><B
CLASS="function"
>debugPackageFile()</B
></A
> - this is VERY important
42     if (isset($_GET['make']) || $_SERVER['argv'][1] == 'make') {
43         $e = $packagexml-&#62;<A
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.writepackagefile.html"
>writePackageFile</A
>();
44     } else {
45         $e = $packagexml-&#62;<A
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.debugpackagefile.html"
>debugPackageFile</A
>();
46     }
47     if (PEAR::isError($e)) {
48         echo $e-&#62;getMessage();
49         die();
50     }
51     ?&#62;</PRE
></TD
></TR
></TABLE
></P
><P
>In addition, a package.xml file can now be generated from  scratch, with the usage of new options package, summary, description, and  the use of the <A
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.addmaintainer.html"
><B
CLASS="function"
>addMaintainer()</B
></A
> method</P
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN91155"
></A
><H2
>Class Trees for <B
CLASS="classname"
>PEAR_PackageFileManager</B
></H2
><P
>&#13;    <P
></P
><UL
><LI
><P
>&#13;   PEAR_PackageFileManager
      </P
></LI
></UL
>
   </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="package.pear.pear-packagefilemanager.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="package.pear.pear-packagefilemanager.pear-packagefilemanager.pear-packagefilemanager.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>PEAR_PackageFileManager</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="package.pear.pear-packagefilemanager.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>constructor <B
CLASS="function"
>PEAR_PackageFileManager::PEAR_PackageFileManager()</B
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>