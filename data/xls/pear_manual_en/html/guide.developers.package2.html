<HTML
><HEAD
><TITLE
>The package definition file package.xml, version 2.0</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="PEAR Manual"
HREF="index.html"><LINK
REL="UP"
TITLE="Developer Guide"
HREF="guide-developers.html"><LINK
REL="PREVIOUS"
TITLE="The package definition file package.xml"
HREF="developers.packagedef.html"><LINK
REL="NEXT"
TITLE="Special information for PECL developers"
HREF="guide.developers.package2.peclinfo.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=ISO-8859-1"></HEAD
><BODY
CLASS="chapter"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PEAR Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="developers.packagedef.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="guide.developers.package2.peclinfo.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="guide.developers.package2"
>Chapter 16. The package definition file <TT
CLASS="filename"
>package.xml</TT
>, version 2.0</A
></H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
><A
HREF="guide.developers.package2.html#guide.developers.package2.intro"
>A quick and dirty guide to version 2.0 of the package definition file <TT
CLASS="filename"
>package.xml</TT
></A
></DT
><DT
><A
HREF="guide.developers.package2.peclinfo.html"
>Special information for PECL developers</A
></DT
><DT
><A
HREF="guide.developers.package2.tags.html"
>Detailed Tag Reference for package.xml version 2.0</A
></DT
></DL
></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="guide.developers.package2.intro">A quick and dirty guide to version 2.0 of the package definition file <TT
CLASS="filename"
>package.xml</TT
></H1
><P
>&#13;    The package definition file <TT
CLASS="filename"
>package.xml</TT
> is,
    as the name already implies, a well-formed XML file that contains
    all information about a PEAR package.  Version 2.0 contains several important
    enhancements over version 1.0, including
   </P
><P
>&#13;    <P
></P
><UL
><LI
><P
>&#13;       Channel support
      </P
></LI
><LI
><P
>&#13;       Binary PECL packages support (not fully implemented in PEAR 1.4.0)
      </P
></LI
><LI
><P
>&#13;       More specific dependency resolution
      </P
></LI
></UL
>
   </P
><P
>&#13;    For those of you with an existing package.xml version 1.0, you can create an approximate
    equivalent package using the 
   </P
><P
>&#13;    <TABLE
WIDTH="100%"
CELLSPACING="0"
CELLPADDING="0"
BORDER="0"
BGCOLOR="#EEEEEE"
><TR
><TD
><PRE
CLASS="screen"
><TT
CLASS="userinput"
><B
>&#13;$ pear convert
     </B
></TT
></PRE
></TD
></TR
></TABLE
>
   </P
><P
>&#13;    command.  Note that as of version 1.6.0a1, PEAR_PackageFileManager supports package.xml
    2.0 with the PEAR_PackageFileManager2 class.
   </P
><P
>&#13;    PECL developers: for more information on pecl-specific features,
    <A
HREF="guide.developers.package2.pecl.html"
>read here</A
>.
   </P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="guide.developers.package2.example">An example file with all elements</H2
><P
>&#13;     <TABLE
WIDTH="100%"
CELLSPACING="0"
CELLPADDING="0"
BORDER="0"
BGCOLOR="#EEEEEE"
><TR
><TD
><PRE
CLASS="xml"
>&#60;?xml version="1.0"?&#62;
&#60;package version="2.0" xmlns="http://pear.php.net/dtd/package-2.0"
    xmlns:tasks="http://pear.php.net/dtd/tasks-1.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://pear.php.net/dtd/tasks-1.0
http://pear.php.net/dtd/tasks-1.0.xsd
http://pear.php.net/dtd/package-2.0
http://pear.php.net/dtd/package-2.0.xsd"&#62;
 &#60;name&#62;PEAR&#60;/name&#62;
 <A
HREF="guide.developers.package2.channel.html"
>&#60;channel&#62;</A
>pear.php.net&#60;/channel&#62;
 &#60;summary&#62;Any one-line summary&#60;/summary&#62;
 &#60;description&#62;any static long description.
 This text should not change very much between releases, use the "notes" tag
 for release notes
 &#60;/description&#62;
 <A
HREF="guide.developers.package2.developers.html"
>&#60;lead&#62;</A
>
  &#60;name&#62;Greg Beaver&#60;/name&#62;
  &#60;user&#62;cellog&#60;/user&#62;
  &#60;email&#62;cellog@php.net&#60;/email&#62;
  &#60;active&#62;yes&#60;/active&#62;
 &#60;/lead&#62;
 &#60;date&#62;2005-02-26&#60;/date&#62;
 &#60;time&#62;20:30:13&#60;/time&#62; &#60;-- note: &#60;time&#62; is optional --&#62;
 <A
HREF="guide.developers.package2.version.html"
>&#60;version&#62;</A
>
  &#60;release&#62;1.4.0a2&#60;/release&#62;
  &#60;api&#62;1.4.0&#60;/api&#62;
 &#60;/version&#62;
 <A
HREF="guide.developers.package2.stability.html"
>&#60;stability&#62;</A
>
  &#60;release&#62;alpha&#60;/release&#62;
  &#60;api&#62;alpha&#60;/api&#62;
 &#60;/stability&#62;
 <A
HREF="guide.developers.package2.license.html"
>&#60;license uri="</A
>http://www.php.net/license"&#62;PHP License&#60;/license&#62;
 &#60;notes&#62;
 Put release notes here.
 They can be multi-line
 &#60;/notes&#62;
 <A
HREF="guide.developers.package2.contents.html"
>&#60;contents&#62;</A
>
  <A
HREF="guide.developers.package2.dir.html"
>&#60;dir name="/"&#62;</A
>
   &#60;dir name="PEAR"&#62;
    &#60;dir name="ChannelFile"&#62;
     <A
HREF="guide.developers.package2.file.html"
>&#60;file name="Parser.php" role="php" /&#62;</A
>
    &#60;/dir&#62; &#60;!-- /PEAR/ChannelFile --&#62;
    &#60;file name="Dependency2.php" role="php"&#62;
     &#60;tasks:replace from="@PEAR-VER@" to="version" type="package-info"/&#62;
    &#60;/file&#62;
   &#60;/dir&#62; &#60;!-- /PEAR --&#62;
   &#60;dir name="scripts" baseinstalldir="/"&#62;
    &#60;file name="pear.bat" role="script"&#62;
     <A
HREF="guide.developers.package2.tasks.html#guide.developers.package2.tasks.replace"
>&#60;tasks:replace from="@bin_dir@" to="bin_dir" type="pear-config" /&#62;</A
>
     &#60;tasks:replace from="@php_bin@" to="php_bin" type="pear-config" /&#62;
     &#60;tasks:replace from="@include_path@" to="php_dir" type="pear-config" /&#62;
     <A
HREF="guide.developers.package2.tasks.html#guide.developers.package2.tasks.windowseol"
>&#60;tasks:windowseol/&#62;</A
>
    &#60;/file&#62;
    &#60;file name="pecl.bat" role="script"&#62;
     &#60;tasks:replace from="@bin_dir@" to="bin_dir" type="pear-config" /&#62;
     &#60;tasks:replace from="@php_bin@" to="php_bin" type="pear-config" /&#62;
     &#60;tasks:replace from="@include_path@" to="php_dir" type="pear-config" /&#62;
     &#60;tasks:windowseol/&#62;
    &#60;/file&#62;
    &#60;file name="pear.sh" role="script"&#62;
     &#60;tasks:replace from="@php_bin@" to="php_bin" type="pear-config" /&#62;
     &#60;tasks:replace from="@php_dir@" to="php_dir" type="pear-config" /&#62;
     &#60;tasks:replace from="@pear_version@" to="version" type="package-info" /&#62;
     &#60;tasks:replace from="@include_path@" to="php_dir" type="pear-config" /&#62;
     <A
HREF="guide.developers.package2.tasks.html#guide.developers.package2.tasks.unixeol"
>&#60;tasks:unixeol/&#62;</A
>
    &#60;/file&#62;
    &#60;file name="pecl.sh" role="script"&#62;
     &#60;tasks:replace from="@php_bin@" to="php_bin" type="pear-config" /&#62;
     &#60;tasks:replace from="@php_dir@" to="php_dir" type="pear-config" /&#62;
     &#60;tasks:replace from="@pear_version@" to="version" type="package-info" /&#62;
     &#60;tasks:replace from="@include_path@" to="php_dir" type="pear-config" /&#62;
     &#60;tasks:unixeol/&#62;
    &#60;/file&#62;
    &#60;file name="pearcmd.php" role="php"&#62;
     &#60;tasks:replace from="@php_bin@" to="php_bin" type="pear-config" /&#62;
     &#60;tasks:replace from="@php_dir@" to="php_dir" type="pear-config" /&#62;
     &#60;tasks:replace from="@pear_version@" to="version" type="package-info" /&#62;
     &#60;tasks:replace from="@include_path@" to="php_dir" type="pear-config" /&#62;
    &#60;/file&#62;
    &#60;file name="peclcmd.php" role="php"&#62;
     &#60;tasks:replace from="@php_bin@" to="php_bin" type="pear-config" /&#62;
     &#60;tasks:replace from="@php_dir@" to="php_dir" type="pear-config" /&#62;
     &#60;tasks:replace from="@pear_version@" to="version" type="package-info" /&#62;
     &#60;tasks:replace from="@include_path@" to="php_dir" type="pear-config" /&#62;
     &#60;tasks:footask/&#62;
    &#60;/file&#62;
   &#60;/dir&#62; &#60;!-- /scripts --&#62;
   &#60;file name="package.dtd" role="data" /&#62;
   &#60;file name="postinstall.php" role="php"&#62;
    <A
HREF="guide.developers.package2.tasks.html#guide.developers.package2.tasks.postinstallscript"
>&#60;tasks:postinstallscript/&#62;</A
>
   &#60;/file&#62;
   &#60;file name="template.spec" role="foo" /&#62;
  &#60;/dir&#62; &#60;!-- / --&#62;
 &#60;/contents&#62;
 <A
HREF="guide.developers.package2.compatible.html"
>&#60;compatible&#62;</A
>
  &#60;name&#62;FooPackage&#60;/name&#62;
  &#60;channel&#62;pear.php.net&#60;/channel&#62;
  &#60;min&#62;1.3.0&#60;/min&#62;
  &#60;max&#62;1.5.0&#60;/max&#62;
 &#60;/compatible&#62;
 <A
HREF="guide.developers.package2.dependencies.html"
>&#60;dependencies&#62;</A
>
  &#60;required&#62;
   <A
HREF="guide.developers.package2.dependencies.html#guide.developers.package2.dependencies.php"
>&#60;php&#62;</A
>
    &#60;min&#62;4.2&#60;/min&#62;
    &#60;max&#62;6.0.0&#60;/max&#62;
   &#60;/php&#62;
   <A
HREF="guide.developers.package2.dependencies.html#guide.developers.package2.dependencies.pearinstaller"
>&#60;pearinstaller&#62;</A
>
    &#60;min&#62;1.4.0dev13&#60;/min&#62;
   &#60;/pearinstaller&#62;
   <A
HREF="guide.developers.package2.dependencies.html#guide.developers.package2.dependencies.package.channel"
>&#60;package&#62;</A
>
    &#60;name&#62;Archive_Tar&#60;/name&#62;
    &#60;channel&#62;pear.php.net&#60;/channel&#62;
    &#60;min&#62;1.1&#60;/min&#62;
    &#60;recommended&#62;1.2&#60;/recommended&#62;
   &#60;/package&#62;
   <A
HREF="guide.developers.package2.dependencies.html#guide.developers.package2.dependencies.package.uri"
>&#60;package&#62;</A
>
    &#60;name&#62;Foo&#60;/name&#62;
    &#60;uri&#62;http://www.example.com/Foo-1.2.0.tgz&#60;/uri&#62;
   &#60;/package&#62;
   <A
HREF="guide.developers.package2.dependencies.html#guide.developers.package2.dependencies.extension"
>&#60;extension&#62;</A
>
    &#60;name&#62;xml&#60;/name&#62;
   &#60;/extension&#62;
   <A
HREF="guide.developers.package2.dependencies.html#guide.developers.package2.dependencies.os"
>&#60;os&#62;</A
>
    &#60;name&#62;windows&#60;/name&#62;
    &#60;conflicts/&#62;
   &#60;/os&#62;
   <A
HREF="guide.developers.package2.dependencies.html#guide.developers.package2.dependencies.arch"
>&#60;arch&#62;</A
>
    &#60;pattern&#62;*-i?86-*-*&#60;/pattern&#62;
   &#60;/arch&#62;
  &#60;/required&#62;
  <A
HREF="guide.developers.package2.dependencies.html#guide.developers.package2.dependencies.structure"
>&#60;optional&#62;</A
>
   &#60;package&#62;
    &#60;name&#62;PEAR_Frontend_Web&#60;/name&#62;
    &#60;channel&#62;pear.php.net&#60;/channel&#62;
    &#60;min&#62;0.5.0&#60;/min&#62;
   &#60;/package&#62;
   &#60;package&#62;
    &#60;name&#62;PEAR_Frontend_Gtk&#60;/name&#62;
    &#60;channel&#62;pear.php.net&#60;/channel&#62;
    &#60;min&#62;0.4.0&#60;/min&#62;
   &#60;/package&#62;
  &#60;/optional&#62;
  &#60;group name="remoteinstall" hint="adds the ability to install packages to a remote ftp server"&#62;
   &#60;package&#62;
    &#60;name&#62;Net_FTP&#60;/name&#62;
    &#60;channel&#62;pear.php.net&#60;/channel&#62;
    &#60;min&#62;1.3.0RC1&#60;/min&#62;
    &#60;recommended&#62;1.3.0&#60;/recommended&#62;
   &#60;/package&#62;
  &#60;/group&#62;
  &#60;group name="webinstaller" hint="PEAR's web-based installer"&#62;
   &#60;package&#62;
    &#60;name&#62;PEAR_Frontend_Web&#60;/name&#62;
    &#60;channel&#62;pear.php.net&#60;/channel&#62;
    &#60;min&#62;0.5.0&#60;/min&#62;
   &#60;/package&#62;
  &#60;/group&#62;
  &#60;group name="gtkinstaller" hint="PEAR's PHP-GTK-based installer"&#62;
   &#60;package&#62;
    &#60;name&#62;PEAR_Frontend_Gtk&#60;/name&#62;
    &#60;channel&#62;pear.php.net&#60;/channel&#62;
    &#60;min&#62;0.4.0&#60;/min&#62;
   &#60;/package&#62;
  &#60;/group&#62;
 &#60;/dependencies&#62;
 <A
HREF="guide.developers.package2.usesrole.html"
>&#60;usesrole&#62;</A
>
  &#60;role&#62;foo&#60;/role&#62;
  &#60;package&#62;Foo&#60;/package&#62;
  &#60;channel&#62;pear.example.com&#60;/channel&#62;
 &#60;/usesrole&#62;
 <A
HREF="guide.developers.package2.usestask.html"
>&#60;usestask&#62;</A
>
  &#60;task&#62;footask&#60;/task&#62;
  &#60;package&#62;Footask&#60;/package&#62;
  &#60;channel&#62;pear.example.com&#60;/channel&#62;
 &#60;/usestask&#62;
 <A
HREF="guide.developers.package2.release.html"
>&#60;phprelease&#62;</A
>
  &#60;installconditions&#62;
   &#60;os&#62;
    &#60;name&#62;windows&#60;/name&#62;
   &#60;/os&#62;
  &#60;/installconditions&#62;
  &#60;filelist&#62;
   &#60;install as="pear.bat" name="scripts/pear.bat" /&#62;
   &#60;install as="pecl.bat" name="scripts/pecl.bat" /&#62;
   &#60;install as="pearcmd.php" name="scripts/pearcmd.php" /&#62;
   &#60;install as="peclcmd.php" name="scripts/peclcmd.php" /&#62;
   &#60;ignore name="scripts/pear.sh" /&#62;
   &#60;ignore name="scripts/pecl.sh" /&#62;
  &#60;/filelist&#62;
 &#60;/phprelease&#62;
 &#60;phprelease&#62;
  &#60;filelist&#62;
   &#60;install as="pear" name="scripts/pear.sh" /&#62;
   &#60;install as="pecl" name="scripts/pecl.sh" /&#62;
   &#60;install as="pearcmd.php" name="scripts/pearcmd.php" /&#62;
   &#60;install as="peclcmd.php" name="scripts/peclcmd.php" /&#62;
   &#60;ignore name="scripts/pear.bat" /&#62;
   &#60;ignore name="scripts/pecl.bat" /&#62;
  &#60;/filelist&#62;
 &#60;/phprelease&#62;
 &#60;changelog&#62;
  &#60;release&#62;
   &#60;version&#62;
    &#60;release&#62;1.3.5&#60;/release&#62;
    &#60;api&#62;1.3.0&#60;/api&#62;
   &#60;/version&#62;
   &#60;stability&#62;
    &#60;release&#62;stable&#60;/release&#62;
    &#60;api&#62;stable&#60;/api&#62;
   &#60;/stability&#62;
   &#60;date&#62;2005-02-26&#60;/date&#62;
   &#60;license uri="http://www.php.net/license/3_0.txt"&#62;PHP License&#60;/license&#62;
   &#60;notes&#62;
 * fix Bug #3505: pecl can't install PDO
 * enhance pear run-tests dramatically
 * fix Bug #3506: pear install should export the pear version into the environment

   &#60;/notes&#62;
  &#60;/release&#62;
  &#60;release&#62;
   &#60;version&#62;
    &#60;release&#62;1.4.0a1&#60;/release&#62;
    &#60;api&#62;1.4.0&#60;/api&#62;
   &#60;/version&#62;
   &#60;stability&#62;
    &#60;release&#62;alpha&#60;/release&#62;
    &#60;api&#62;alpha&#60;/api&#62;
   &#60;/stability&#62;
   &#60;date&#62;2005-02-26&#60;/date&#62;
   &#60;license uri="http://www.php.net/license/3_0.txt"&#62;PHP License&#60;/license&#62;
   &#60;notes&#62;
  This is a major milestone release for PEAR.  In addition to several killer features,
  every single element of PEAR has a regression test, and so stability is much higher
  than any previous PEAR release, even with the alpha label.

  New features in a nutshell:
  * full support for channels
  * pre-download dependency validation
  * new package.xml 2.0 format allows tremendous flexibility while maintaining BC
  * support for optional dependency groups and limited support for sub-packaging
  * robust dependency support
  * full dependency validation on uninstall
  * support for binary PECL packages
  * remote install for hosts with only ftp access - no more problems with
    restricted host installation
  * full support for mirroring
  * support for bundling several packages into a single tarball
  * support for static dependencies on a url-based package

  Specific changes from 1.3.5:
  * Implement request #1789: SSL support for xml-rpc and download
  * Everything above here that you just read
   &#60;/notes&#62;
  &#60;/release&#62;
 &#60;/changelog&#62;
&#60;/package&#62;</PRE
></TD
></TR
></TABLE
>
   </P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="developers.packagedef.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="guide.developers.package2.peclinfo.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>The package definition file <TT
CLASS="filename"
>package.xml</TT
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="guide-developers.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Special information for PECL developers</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>