<HTML
><HEAD
><TITLE
>&#13;   PEAR_REST::saveCache
  </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="PEAR Manual"
HREF="index.html"><LINK
REL="UP"
TITLE="PEAR_REST"
HREF="core.ppm.pear-rest.html"><LINK
REL="PREVIOUS"
TITLE="
   PEAR_REST::retrieveData
  "
HREF="core.ppm.pear-rest.retrievedata.html"><LINK
REL="NEXT"
TITLE="
   PEAR_REST::useLocalCache
  "
HREF="core.ppm.pear-rest.uselocalcache.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=ISO-8859-1"></HEAD
><BODY
CLASS="refentry"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PEAR Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="core.ppm.pear-rest.retrievedata.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="core.ppm.pear-rest.uselocalcache.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="core.ppm.pear-rest.savecache"><B
CLASS="function"
>PEAR_REST::saveCache()</B
></H1
><DIV
CLASS="refnamediv"
><A
NAME="AEN14915"
></A
>
   <B
CLASS="function"
>PEAR_REST::saveCache()</B
>
  &nbsp;--&nbsp;Save the value retrieved from a remote REST resource in the local cache.</DIV
><DIV
CLASS="refsynopsisdiv"
><A
NAME="AEN14919"><H2
>Synopsis</H2
><DIV
CLASS="funcsynopsis"
><A
NAME="AEN14920"><P
></P
><TABLE
WIDTH="100%"
CELLSPACING="0"
CELLPADDING="0"
BORDER="0"
BGCOLOR="#EEEEEE"
><TR
><TD
><PRE
CLASS="funcsynopsisinfo"
>require_once '/REST.php';</PRE
></TD
></TR
></TABLE
><P
><CODE
><CODE
CLASS="FUNCDEF"
>&#13;     void
     <B
CLASS="function"
>PEAR_REST::saveCache</B
>
    </CODE
> (string
     $url, mixed
     $contents, array
     $lastmodified, bool
     [$nochange = false])</CODE
></P
><P
></P
></DIV
></DIV
><DIV
CLASS="refsect1"
><A
NAME="core.ppm.pear-rest.savecache.desc"
></A
><H2
>Description</H2
><P
>&#13;   Use this to save a resource after retrieving.  Since the <TT
CLASS="literal"
>cache_ttl</TT
>
   configuration variable is used in determining when to check the remote server, and
   HTTP caching is used as well, it is possible for this scenario to arise:
  </P
><P
>&#13;   <P
></P
><OL
TYPE="1"
><LI
><P
>&#13;      retrieve REST resource
     </P
></LI
><LI
><P
>&#13;      cache the resource
     </P
></LI
><LI
><P
>&#13;      a few days later, retrieve the REST resource again
     </P
></LI
><LI
><P
>&#13;      HTTP caching returns 304 not modified
     </P
></LI
></OL
>
  </P
><P
>&#13;   In this situation, it doesn't make much sense to save the resource contents
   redundantly.  Instead, the last access time can be saved in the cache id by passing
   true into the last parameter.
  </P
></DIV
><DIV
CLASS="refsect1"
><A
NAME="core.ppm.pear-rest.savecache.param"
></A
><H2
>Parameter</H2
><P
>&#13;   <P
></P
><DIV
CLASS="variablelist"
><DL
><DT
>string
      <TT
CLASS="parameter"
><I
>$url</I
></TT
></DT
><DD
><P
>&#13;       The REST resource's URL
      </P
></DD
></DL
></DIV
>
   <P
></P
><DIV
CLASS="variablelist"
><DL
><DT
>mixed
      <TT
CLASS="parameter"
><I
>$contents</I
></TT
></DT
><DD
><P
>&#13;       Contents retrieved from the REST resource (ignored if the last parameter is true)
      </P
></DD
></DL
></DIV
>
   <P
></P
><DIV
CLASS="variablelist"
><DL
><DT
>array
      <TT
CLASS="parameter"
><I
>$lastmodified</I
></TT
></DT
><DD
><P
>&#13;       The ETag and LastModified headers retrieved from the remote server, used for
       HTTP caching.
      </P
></DD
></DL
></DIV
>
   <P
></P
><DIV
CLASS="variablelist"
><DL
><DT
>mixed
      <TT
CLASS="parameter"
><I
>$nochange</I
></TT
></DT
><DD
><P
>&#13;       If false, the cache is saved normally.  If true, only the <TT
CLASS="parameter"
><I
>$lastmodified</I
></TT
>
       parameter is saved in the cache id file, registering an HTTP cache hit.
      </P
></DD
></DL
></DIV
>
  </P
></DIV
><DIV
CLASS="refsect1"
><A
NAME="core.ppm.pear-rest.savecache.throws"
></A
><H2
>Throws</H2
><P
>&#13;   <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>throws</I
></SPAN
>
   no exceptions thrown
  </P
></DIV
><DIV
CLASS="refsect1"
><A
NAME="core.ppm.pear-rest.savecache.note"
></A
><H2
>Note</H2
><P
>This function can not be called
statically.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="core.ppm.pear-rest.retrievedata.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="core.ppm.pear-rest.uselocalcache.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><B
CLASS="function"
>PEAR_REST::retrieveData()</B
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="core.ppm.pear-rest.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><B
CLASS="function"
>PEAR_REST::useLocalCache()</B
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>