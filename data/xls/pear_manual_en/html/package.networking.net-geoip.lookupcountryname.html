<HTML
><HEAD
><TITLE
>Net_GeoIP::lookupCountryName()</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="PEAR Manual"
HREF="index.html"><LINK
REL="UP"
TITLE="Net_GeoIP"
HREF="package.networking.net-geoip.html"><LINK
REL="PREVIOUS"
TITLE="Net_GeoIP::getInstance()"
HREF="package.networking.net-geoip.getinstance.html"><LINK
REL="NEXT"
TITLE="Net_GeoIP::lookupCountryCode()"
HREF="package.networking.net-geoip.lookupcountrycode.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=ISO-8859-1"></HEAD
><BODY
CLASS="refentry"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PEAR Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="package.networking.net-geoip.getinstance.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="package.networking.net-geoip.lookupcountrycode.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="package.networking.net-geoip.lookupcountryname">Net_GeoIP::lookupCountryName()</H1
><DIV
CLASS="refnamediv"
><A
NAME="AEN83563"
></A
>Net_GeoIP::lookupCountryName()&nbsp;--&nbsp;
      returns full country name for specified IP address
    </DIV
><DIV
CLASS="refsynopsisdiv"
><A
NAME="AEN83566"><H2
>Synopsis</H2
><DIV
CLASS="funcsynopsis"
><A
NAME="AEN83567"><P
></P
><TABLE
WIDTH="100%"
CELLSPACING="0"
CELLPADDING="0"
BORDER="0"
BGCOLOR="#EEEEEE"
><TR
><TD
><PRE
CLASS="funcsynopsisinfo"
>require_once "Net/GeoIP.php";</PRE
></TD
></TR
></TABLE
><P
><CODE
><CODE
CLASS="FUNCDEF"
>string <B
CLASS="function"
>lookupCountryName()</B
></CODE
> (string $addr)</CODE
></P
><P
></P
></DIV
></DIV
><DIV
CLASS="refsect1"
><A
NAME="package.networking.net-geoip.lookupcountryname.desc"
></A
><H2
>Description</H2
><P
>&#13;      This method returns the full country name for the given IP address.
      It works with both the free and the non-free databases.
    </P
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN83577"><P
><B
>Example 48-1. 
        Looking up the country name
      </B
></P
><TABLE
WIDTH="100%"
CELLSPACING="0"
CELLPADDING="0"
BORDER="0"
BGCOLOR="#EEEEEE"
><TR
><TD
><PRE
CLASS="php"
>require_once "Net/GeoIP.php";

$geoip = Net_GeoIP::getInstance("/path/to/geoipdb.dat");

try {
    echo $geoip-&#62;lookupCountryName($_SERVER['REMOTE_ADDR']);
} catch (Exception $e) {
    // Handle exception
}</PRE
></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="refsect1"
><A
NAME="package.networking.net-geoip.lookupcountryname.param"
></A
><H2
>Parameter</H2
><P
>&#13;      <P
></P
><UL
><LI
><P
>&#13;            <TT
CLASS="parameter"
><I
>string $addr</I
></TT
> - IP address
          </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><A
NAME="package.networking.net-geoip.hostnames"><P
><B
>Lookups on Hostnames: </B
>
              Note that this PHP API does NOT support lookups on 
              hostnames.  This is so that the public API can be kept 
              simple and so that the lookup functions don't need to try 
              name lookups if IP lookup fails (which would be the only 
              way to keep the API simple and support name-based lookups).
            </P
><P
>&#13;              If you do not know the IP address, you can convert an name 
              to IP very simply using PHP native functions or other 
              libraries:
            </P
><TABLE
WIDTH="100%"
CELLSPACING="0"
CELLPADDING="0"
BORDER="0"
BGCOLOR="#EEEEEE"
><TR
><TD
><PRE
CLASS="php"
>$geoip-&#62;lookupCountryName(gethostbyname("example.com"));</PRE
></TD
></TR
></TABLE
><P
>&#13;              Or, if you don't know whether an address is a name or IP
              address, use application-level logic:
            </P
><TABLE
WIDTH="100%"
CELLSPACING="0"
CELLPADDING="0"
BORDER="0"
BGCOLOR="#EEEEEE"
><TR
><TD
><PRE
CLASS="php"
>if (ip2long($ip_or_name) === false) {
    $ip = gethostbyname($ip_or_name);
} else {
    $ip = $ip_or_name;
}

$country = $geoip-&#62;lookupCountryName($ip);</PRE
></TD
></TR
></TABLE
></BLOCKQUOTE
></DIV
></LI
></UL
>
    </P
></DIV
><DIV
CLASS="refsect1"
><A
NAME="package.networking.net-geoip.lookupcountryname.throws"
></A
><H2
>Throws</H2
><P
>&#13;      This method sthrow an exception if the IP address is invalid 
      or if the database type is incorrect.
    </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="package.networking.net-geoip.getinstance.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="package.networking.net-geoip.lookupcountrycode.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Net_GeoIP::getInstance()</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="package.networking.net-geoip.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Net_GeoIP::lookupCountryCode()</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>